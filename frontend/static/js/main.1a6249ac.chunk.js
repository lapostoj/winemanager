(this["webpackJsonpwinemanager-frontend"]=this["webpackJsonpwinemanager-frontend"]||[]).push([[0],{83:function(e,n,t){},89:function(e,n,t){"use strict";t.r(n);var a=t(4),c=t(0),i=t(11),r=t.n(i),o=(t(83),t(60)),l=t(61),s=t(64),u=t(63),j=t(120),d=t(122),b=t(123),h=t(66),f=t.p+"static/media/grapes.f89b5b7e.svg";function m(){return Object(a.jsx)(j.a,{position:"static",children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)(b.a,{fontSize:"large",children:Object(a.jsx)("img",{id:"logo",src:f,height:"35",alt:"logo-raisins"})}),Object(a.jsx)(h.a,{variant:"h6",color:"inherit",children:"Inventaire de cave"})]})})}var O=t(24),p=t(141),x=t(144),v=t(130),g=t(93),w=t(62),y=t.n(w),k=t(124),C=t(90),S=t(125),A=t(126),E=t(127),z=t(128),D=t(129),B=t(5),F=Object(B.a)((function(e){return{root:{opacity:"60%"}}}))(k.a),W={Nom:"Riesling - Vendanges tardives",Appellation:"Riesling",Cru:"","Mill\xe9sime":"1990","R\xe9gion":"Alsace",Couleur:"Blanc",Type:"Liquoreux",Stock:"1",Producteur:"",Origine:"",Format:"75"};function I(){return Object(a.jsxs)(x.a,{width:"100%",children:[Object(a.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"Exemple de fichier valide"}),Object(a.jsx)(F,{component:C.a,children:Object(a.jsxs)(S.a,{size:"small","aria-label":"a dense table",children:[Object(a.jsx)(A.a,{children:Object(a.jsx)(E.a,{children:Object.keys(W).map((function(e,n){return Object(a.jsx)(z.a,{children:e},"".concat(n,"-").concat(e))}))})}),Object(a.jsx)(D.a,{children:Object(a.jsx)(E.a,{children:Object.values(W).map((function(e,n){return Object(a.jsx)(z.a,{children:e},"".concat(n,"-").concat(e))}))})})]})})]})}var N="https://winemanager-dg65gt2gxa-ew.a.run.app/api";function T(e){var n=e.onUpload,t=Object(c.useState)(null),i=Object(O.a)(t,2),r=i[0],o=i[1],l=function(e){var t=new FormData;t.append("file",e),function(e){var n="".concat(N,"/import");return fetch(n,{method:"POST",headers:new Headers({Accept:"application/json"}),mode:"cors",cache:"default",body:e}).then((function(e){if(e.ok)return e.json();throw new Error(e.json())}))}(t).then((function(e){n(e)})).catch((function(e){console.error(e)}))};return Object(a.jsx)(a.Fragment,{children:null===r?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(x.a,{mb:4,children:[Object(a.jsx)("input",{id:"input-file-wines",name:"input-file-wines",type:"file",accept:".csv",autoFocus:!0,onChange:function(e){o(e.target.files[0])},style:{display:"none"}}),Object(a.jsx)("label",{htmlFor:"input-file-wines",children:Object(a.jsx)(v.a,{id:"button-select-file",variant:"contained",color:"primary",component:"span",children:"Choisir un fichier"})})]}),Object(a.jsx)(I,{})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(v.a,{id:"button-confirm-file",variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),r&&l(r)},children:"Confirmer"}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)(x.a,{display:"inline-block",children:Object(a.jsxs)(h.a,{variant:"body1",id:"filename",children:["Fichier selectionn\xe9: ",r.name]})}),Object(a.jsx)(x.a,{display:"inline-block",children:Object(a.jsx)(g.a,{id:"button-delete-file","aria-label":"delete",onClick:function(){o(null)},children:Object(a.jsx)(y.a,{fontSize:"small"})})})]})]})})}var P=t.p+"static/media/glass-and-bottle.73c7fe6f.svg";function Q(e){var n=e.onDataAdded;return Object(a.jsxs)(x.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:8,children:[Object(a.jsx)("img",{src:P,height:"300",alt:"bouteille-et-verre"}),Object(a.jsx)(h.a,{variant:"h4",gutterBottom:!0,children:"Ajouter mes bouteilles"}),Object(a.jsx)(T,{onUpload:n})]})}var J=t(139),L=t(146),R=t(131),Y=t(134),q=t(132),H=t(133);function M(e){var n,t,c=e.bottle;return Object(a.jsx)(x.a,{p:3,borderColor:"grey.200",children:"".concat(c.quantity," ").concat((n=c.size,t=c.quantity,t<2?n:"".concat(n,"s")).toLowerCase()," de l'ann\xe9e ").concat(c.year,".")})}var U={red:"#990033",rose:"#ffcccc",white:"#e6e6b3"};function V(e){var n=e.bottle;return Object(a.jsxs)(L.a,{TransitionProps:{unmountOnExit:!0},children:[Object(a.jsxs)(R.a,{id:"row-".concat(n.wine.name),"aria-controls":"row-".concat(n.wine.name),expandIcon:Object(a.jsx)(q.a,{}),children:[Object(a.jsx)(x.a,{mr:1,children:Object(a.jsx)(H.a,{style:{color:U[n.wine.color.toLowerCase()]}})}),Object(a.jsx)(h.a,{children:n.wine.name})]}),Object(a.jsx)(Y.a,{children:Object(a.jsx)(M,{bottle:n})})]})}var G=t(55),$=t(147),K=t(136),X=t(137),Z=t(138),_=t(142),ee=t(148),ne=t(140),te=t(135),ae=t(16),ce="https://winemanager-dg65gt2gxa-ew.a.run.app/api";var ie=[{value:37,name:"Demi-bouteille"},{value:50,name:"Demi-litre"},{value:62,name:"Jura"},{value:75,name:"Bouteille"},{value:150,name:"Magnum"},{value:300,name:"J\xe9roboam"},{value:600,name:"Mathusalem"},{value:1200,name:"Salmanazar"},{value:1800,name:"Balthazar"},{value:2400,name:"Nabuchodonosor"}],re={Year:2019,Size:75,Quantity:1,CellarID:5662025548038144,WineID:5744378123386880};function oe(e){var n=e.open,t=e.close,i=Object(ae.a)(),r=Object(te.a)(i.breakpoints.down("sm")),o=Object(c.useState)(re),l=Object(O.a)(o,2),s=l[0],u=l[1],j=function(e){return function(n){return u(Object(G.a)(Object(G.a)({},s),{},{[e]:Number(n.target.value)}))}};return Object(a.jsxs)($.a,{open:n,onClose:t,maxWidth:!1,fullScreen:r,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(K.a,{id:"form-dialog-title",children:"Ajouter une bouteille"}),Object(a.jsxs)(X.a,{children:[Object(a.jsx)(Z.a,{children:"Entrer les d\xe9tails de la bouteille \xe0 ajouter."}),Object(a.jsxs)(x.a,{mb:2,children:[Object(a.jsx)(x.a,{display:"inline-block",m:2,width:"250px",children:Object(a.jsx)(_.a,{id:"input-select-bottle-size",label:"Bouteille",select:!0,variant:"outlined",fullWidth:!0,value:s.Size,onChange:j("Size"),autoFocus:!0,SelectProps:{renderValue:function(e){return"".concat(ie.find((function(n){return n.value===e})).name," - ").concat(e,"ml")}},children:ie.map((function(e,n){return Object(a.jsx)(ee.a,{value:e.value,children:e.name},n)}))})}),Object(a.jsx)(x.a,{display:"inline-block",m:2,children:Object(a.jsx)(_.a,{id:"bottleYear",type:"number",label:"Ann\xe9e",variant:"outlined",value:s.Year,onChange:j("Year")})}),Object(a.jsx)(x.a,{display:"inline-block",m:2,children:Object(a.jsx)(_.a,{id:"bottleQuantity",type:"number",label:"Quantit\xe9",variant:"outlined",value:s.Quantity,onChange:j("Quantity"),inputProps:{min:1}})})]})]}),Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(v.a,{onClick:t,color:"primary",children:"Annuler"}),Object(a.jsx)(v.a,{onClick:function(){return function(e){var n="".concat(ce,"/bottles");return fetch(n,{method:"POST",headers:new Headers({Accept:"application/json"}),mode:"cors",cache:"default",body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw new Error(e.json())}))}(s).then(t)},color:"primary",children:"Ajouter"})]})]})}function le(e){var n=e.bottles,t=Object(c.useState)(!1),i=Object(O.a)(t,2),r=i[0],o=i[1];return Object(a.jsxs)(x.a,{minWidth:"70%",mt:8,children:[Object(a.jsx)(x.a,{mb:3,display:"flex",justifyContent:"flex-end",children:Object(a.jsx)(v.a,{variant:"contained",color:"secondary",onClick:function(){o(!0)},children:"Ajouter une bouteille"})}),Object(a.jsx)(h.a,{variant:"h4",gutterBottom:!0,children:"Vos vins"}),Object(a.jsx)(J.a,{component:"div",children:n.map((function(e,n){return Object(a.jsx)(V,{bottle:e},n)}))}),Object(a.jsx)(oe,{open:r,close:function(){o(!1)}})]})}function se(){var e=Object(c.useState)([]),n=Object(O.a)(e,2),t=n[0],i=n[1];Object(c.useEffect)((function(){r()}),[]);var r=function(){(function(e){var n="".concat(ce,"/bottles?cellarID=").concat(e);return fetch(n,{method:"GET",headers:new Headers({Accept:"application/json"}),mode:"cors",cache:"no-cache"}).then((function(e){if(e.ok)return e.json();throw new Error(e.json())}))})(5662025548038144).then((function(e){i(e)})).catch((function(e){console.error(e)}))};return Object(a.jsx)(p.a,{classes:{root:"dashboard"},children:Object(a.jsx)(x.a,{display:"flex",justifyContent:"center",children:0!==t.length?Object(a.jsx)(le,{bottles:t}):Object(a.jsx)(Q,{onDataAdded:function(e){return i(e)}})})})}var ue=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(){return Object(o.a)(this,t),n.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(m,{}),Object(a.jsx)(se,{})]})}}]),t}(c.Component),je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function de(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(Object(a.jsx)(ue,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");je?(!function(e){fetch(e).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):de(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):de(e)}))}}()}},[[89,1,2]]]);
//# sourceMappingURL=main.1a6249ac.chunk.js.map